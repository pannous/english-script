from kast import *
Module(body=[Import(names=[Alias(name='ast', asname=None)]), Import(names=[Alias(name='json', asname=None)]), Import(names=[Alias(name='os', asname=None)]), Assign(targets=[Name(id='source', ctx=Store())], value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load()), attr='path', ctx=Load()), attr='realpath', ctx=Load()), args=[Name(id='__file__', ctx=Load())], keywords=[], starargs=None, kwargs=None)), Print(dest=None, values=[Name(id='source', ctx=Load())], nl=True), Assign(targets=[Name(id='contents', ctx=Store())], value=Call(func=Attribute(value=Call(func=Name(id='open', ctx=Load()), args=[Name(id='source', ctx=Load())], keywords=[], starargs=None, kwargs=None), attr='readlines', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='contents', ctx=Store())], value=Call(func=Attribute(value=Str(s='\n'), attr='join', ctx=Load()), args=[Name(id='contents', ctx=Load())], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='code', ctx=Store())], value=Call(func=Name(id='compile', ctx=Load()), args=[Name(id='contents', ctx=Load()), Name(id='source', ctx=Load()), Str(s='exec')], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='file_ast', ctx=Store())], value=Call(func=Name(id='compile', ctx=Load()), args=[Name(id='contents', ctx=Load()), Name(id='source', ctx=Load()), Str(s='exec'), Attribute(value=Name(id='ast', ctx=Load()), attr='PyCF_ONLY_AST', ctx=Load())], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='x', ctx=Store())], value=Call(func=Attribute(value=Name(id='ast', ctx=Load()), attr='dump', ctx=Load()), args=[Name(id='file_ast', ctx=Load())], keywords=[keyword(arg='annotate_fields', value=Name(id='True', ctx=Load())), keyword(arg='include_attributes', value=Name(id='False', ctx=Load()))], starargs=None, kwargs=None)), Print(dest=None, values=[Name(id='x', ctx=Load())], nl=True), Assign(targets=[Name(id='file_ast', ctx=Store())], value=Call(func=Attribute(value=Name(id='ast', ctx=Load()), attr='parse', ctx=Load()), args=[Name(id='contents', ctx=Load()), Name(id='source', ctx=Load()), Str(s='exec')], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='x', ctx=Store())], value=Call(func=Attribute(value=Name(id='ast', ctx=Load()), attr='dump', ctx=Load()), args=[Name(id='file_ast', ctx=Load())], keywords=[keyword(arg='annotate_fields', value=Name(id='True', ctx=Load())), keyword(arg='include_attributes', value=Name(id='False', ctx=Load()))], starargs=None, kwargs=None)), Print(dest=None, values=[Name(id='x', ctx=Load())], nl=True), ClassDef(name='Print', bases=[Attribute(value=Name(id='ast', ctx=Load()), attr='Pass', ctx=Load())], body=[Pass()], decorator_list=[]), Assign(targets=[Name(id='ast', ctx=Store())], value=Call(func=Name(id='Module', ctx=Load()), args=[], keywords=[keyword(arg='body', value=List(elts=[Call(func=Name(id='For', ctx=Load()), args=[], keywords=[keyword(arg='target', value=Call(func=Name(id='Name', ctx=Load()), args=[], keywords=[keyword(arg='id', value=Str(s='i')), keyword(arg='ctx', value=Call(func=Name(id='Store', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None)), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=4))], starargs=None, kwargs=None)), keyword(arg='iter', value=Call(func=Name(id='Call', ctx=Load()), args=[], keywords=[keyword(arg='func', value=Call(func=Name(id='Name', ctx=Load()), args=[], keywords=[keyword(arg='id', value=Str(s='range')), keyword(arg='ctx', value=Call(func=Name(id='Load', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None)), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=9))], starargs=None, kwargs=None)), keyword(arg='args', value=List(elts=[Call(func=Name(id='Num', ctx=Load()), args=[], keywords=[keyword(arg='n', value=Num(n=10)), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=15))], starargs=None, kwargs=None)], ctx=Load())), keyword(arg='keywords', value=List(elts=[], ctx=Load())), keyword(arg='starargs', value=Name(id='None', ctx=Load())), keyword(arg='kwargs', value=Name(id='None', ctx=Load())), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=9))], starargs=None, kwargs=None)), keyword(arg='body', value=List(elts=[Call(func=Name(id='Print', ctx=Load()), args=[], keywords=[keyword(arg='value', value=Str(s='dbg')), keyword(arg='dest', value=Name(id='None', ctx=Load())), keyword(arg='values', value=List(elts=[Call(func=Name(id='Name', ctx=Load()), args=[], keywords=[keyword(arg='id', value=Str(s='i')), keyword(arg='ctx', value=Call(func=Name(id='Load', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None)), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=26))], starargs=None, kwargs=None)], ctx=Load())), keyword(arg='nl', value=Name(id='True', ctx=Load())), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=20))], starargs=None, kwargs=None)], ctx=Load())), keyword(arg='orelse', value=List(elts=[], ctx=Load())), keyword(arg='lineno', value=Num(n=1)), keyword(arg='col_offset', value=Num(n=0))], starargs=None, kwargs=None)], ctx=Load()))], starargs=None, kwargs=None)), ClassDef(name='Visitor', bases=[Name(id='NodeVisitor', ctx=Load())], body=[FunctionDef(name='generic_visit', args=arguments(args=[Name(id='self', ctx=Param()), Name(id='node', ctx=Param())], vararg=None, kwarg=None, defaults=[]), body=[Print(dest=None, values=[Attribute(value=Call(func=Name(id='type', ctx=Load()), args=[Name(id='node', ctx=Load())], keywords=[], starargs=None, kwargs=None), attr='__name__', ctx=Load())], nl=True), Expr(value=Call(func=Attribute(value=Name(id='NodeVisitor', ctx=Load()), attr='generic_visit', ctx=Load()), args=[Name(id='self', ctx=Load()), Name(id='node', ctx=Load())], keywords=[], starargs=None, kwargs=None))], decorator_list=[])], decorator_list=[]), Expr(value=Call(func=Attribute(value=Call(func=Name(id='Visitor', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None), attr='visit', ctx=Load()), args=[Name(id='ast', ctx=Load())], keywords=[], starargs=None, kwargs=None)), Assign(targets=[Name(id='code', ctx=Store())], value=Call(func=Name(id='compile', ctx=Load()), args=[Name(id='ast', ctx=Load()), Str(s='file'), Str(s='exec')], keywords=[], starargs=None, kwargs=None)), ClassDef(name='RewriteName', bases=[Name(id='NodeTransformer', ctx=Load())], body=[FunctionDef(name='visit_Name', args=arguments(args=[Name(id='self', ctx=Param()), Name(id='node', ctx=Param())], vararg=None, kwarg=None, defaults=[]), body=[Return(value=Call(func=Name(id='copy_location', ctx=Load()), args=[Call(func=Name(id='Subscript', ctx=Load()), args=[], keywords=[keyword(arg='value', value=Call(func=Name(id='Name', ctx=Load()), args=[], keywords=[keyword(arg='id', value=Str(s='data')), keyword(arg='ctx', value=Call(func=Name(id='Load', ctx=Load()), args=[], keywords=[], starargs=None, kwargs=None))], starargs=None, kwargs=None)), keyword(arg='slice', value=Call(func=Name(id='Index', ctx=Load()), args=[], keywords=[keyword(arg='value', value=Call(func=Name(id='Str', ctx=Load()), args=[], keywords=[keyword(arg='s', value=Attribute(value=Name(id='node', ctx=Load()), attr='id', ctx=Load()))], starargs=None, kwargs=None))], starargs=None, kwargs=None)), keyword(arg='ctx', value=Attribute(value=Name(id='node', ctx=Load()), attr='ctx', ctx=Load()))], starargs=None, kwargs=None), Name(id='node', ctx=Load())], keywords=[], starargs=None, kwargs=None))], decorator_list=[])], decorator_list=[])])
